因式分解 (交叉相乘法 - 雙變量帶係數)
Factorization (Cross Method - Two Variables with Coefficients)
===================================

Level number：5

題型：將二次項分解因式（二次項係數不為1，包含兩個變量）
Factorize quadratic expressions with two variables where coefficient of first variable² is not 1

生成邏輯：
- 生成因式 (ax₁+bx₂)(cx₁+dx₂) 或 e(ax₁+bx₂)(cx₁+dx₂)，其中：
  * a, b, c, d 為整數
  * x₁, x₂ 為變量（難度1-2固定為x,y；難度3-5隨機選擇）
  * e 為整數（難度3）或分數（難度5）

難度等級：
1. 簡單：(ax+by)(x+dy) 形式
   - a 範圍：2 到 5
   - b 範圍：-9 到 9，不含 0
   - d 範圍：-9 到 9，不含 0
   - 變量固定為 x 和 y
   - 展開式形式：ax² + (ad+b)xy + bdy²
   - 例如：(2x+3y)(x+4y) = 2x² + 11xy + 12y²

2. 中等：(ax+by)(cx+dy) 形式
   - a 範圍：2 到 5
   - b 範圍：-9 到 9，不含 0
   - c 範圍：2 到 5
   - d 範圍：-9 到 9，不含 0
   - 變量固定為 x 和 y
   - 展開式形式：acx² + (ad+bc)xy + bdy²
   - 例如：(2x+3y)(3x+5y) = 6x² + 19xy + 15y²

3. 較難：e(ax+by)(cx+dy) 形式
   - e 範圍：2 到 5
   - a, b, c, d 範圍同難度2
   - 變量可以是任意兩個不同變量
   - 展開式形式：eacx₁² + e(ad+bc)x₁x₂ + ebdx₂²
   - 例如：2(3x+4y)(2x+5y) = 12x² + 38xy + 40y²

4. 進階：負整數係數
   - e 範圍：-5 到 -2
   - a, b, c, d 範圍同難度2
   - 變量可以是任意兩個不同變量
   - 展開式形式：eacx₁² + e(ad+bc)x₁x₂ + ebdx₂²
   - 例如：-2(3p+4q)(2p+5q) = -12p² - 38pq - 40q²

5. 挑戰：分數係數
   - e 為簡單分數（如 1/2, 1/3, 2/3, 3/2 等）
   - a, b, c, d 範圍同難度2
   - 變量可以是任意兩個不同變量
   - 展開式形式：(p/q)acx₁² + (p/q)(ad+bc)x₁x₂ + (p/q)bdx₂²
   - 例如：(1/2)(2a+3b)(3a+4b) = 3a² + 11ab + 6b²

生成限制：
1. 所有係數必須是整數（除了難度5的分數係數）
2. 避免係數過大（展開後的係數不超過100）
3. 避免重複或等價的因式
4. 避免可以進一步化簡的情況
5. 變量必須是不同的

錯誤選項生成策略：
1. 係數錯誤：
   - 交換係數位置
   - 改變係數正負號
   - 使用相鄰的數字

2. 因式形式錯誤：
   - 忽略共同係數 e
   - 將係數分配錯誤
   - 使用錯誤的係數組合

3. 變量錯誤：
   - 交換變量順序
   - 混淆變量係數

注意事項：
1. 確保生成的題目係數合理，不會太大
2. 避免生成可以進一步化簡的因式
3. 錯誤選項要看起來合理
4. 確保不同難度的題目有明顯的區別
5. 保持係數的合理性
6. 避免生成過於複雜的係數組合
7. 確保變量的選擇合理且不重複 